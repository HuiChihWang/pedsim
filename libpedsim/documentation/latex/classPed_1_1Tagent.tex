\hypertarget{classPed_1_1Tagent}{
\subsection{Ped::Tagent Class Reference}
\label{classPed_1_1Tagent}\index{Ped::Tagent@{Ped::Tagent}}
}


{\ttfamily \#include $<$ped\_\-agent.h$>$}

\subsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classPed_1_1Tagent_af67112023fe6604e00e74cea6f23c7da}{Tagent} ()
\item 
virtual void \hyperlink{classPed_1_1Tagent_ae3495a0300a6b21e4b8a617882cb3c7e}{move} (double h)
\item 
virtual \hyperlink{classPed_1_1Tvector}{Tvector} \hyperlink{classPed_1_1Tagent_a8ec4fc76d839a87feb57ba597cf97faf}{socialForce} ()
\item 
virtual \hyperlink{classPed_1_1Tvector}{Tvector} \hyperlink{classPed_1_1Tagent_a2129de8742a63a20fcb314c0f09bc917}{obstacleForce} ()
\item 
virtual \hyperlink{classPed_1_1Tvector}{Tvector} \hyperlink{classPed_1_1Tagent_a09533080ce60ae254522d17987b02446}{desiredForce} ()
\item 
virtual \hyperlink{classPed_1_1Tvector}{Tvector} \hyperlink{classPed_1_1Tagent_a4fac86772e3ca3a449d1e6d694d4b0e2}{lookaheadForce} (\hyperlink{classPed_1_1Tvector}{Tvector} desired)
\item 
\hypertarget{classPed_1_1Tagent_a9716c669e45b6b8f43e19de1e60d3df5}{
virtual void {\bfseries print} ()}
\label{classPed_1_1Tagent_a9716c669e45b6b8f43e19de1e60d3df5}

\item 
void \hyperlink{classPed_1_1Tagent_a9f4c084da2e45ffcbc21c1c5194518a5}{setPosition} (double px, double py, double pz)
\item 
\hypertarget{classPed_1_1Tagent_a9ff42868d68948eabb749b84e88446d5}{
void {\bfseries setType} (int t)}
\label{classPed_1_1Tagent_a9ff42868d68948eabb749b84e88446d5}

\item 
void \hyperlink{classPed_1_1Tagent_a94bc6a6fe9684ecb2c880e5db9ff1b31}{setFollow} (int id)
\item 
int \hyperlink{classPed_1_1Tagent_ab0035141923f5f1bede3e163705a559c}{getFollow} ()
\item 
void \hyperlink{classPed_1_1Tagent_aa1c9635b94ba54c0cb00cc34877a75e0}{setVmax} (double vmax)
\item 
void \hyperlink{classPed_1_1Tagent_a63210c597e9db74bdf095dd17502d575}{addWaypoint} (\hyperlink{classPed_1_1Twaypoint}{Twaypoint} wp)
\item 
\hypertarget{classPed_1_1Tagent_a1caa11accf4b7601e22521120e3f8a15}{
int {\bfseries getid} ()}
\label{classPed_1_1Tagent_a1caa11accf4b7601e22521120e3f8a15}

\item 
\hypertarget{classPed_1_1Tagent_adbce18635bf8af2b333eef039ae94581}{
int {\bfseries gettype} ()}
\label{classPed_1_1Tagent_adbce18635bf8af2b333eef039ae94581}

\item 
\hypertarget{classPed_1_1Tagent_a8d086529ef7fafab0e5921fb26768e91}{
double {\bfseries getx} ()}
\label{classPed_1_1Tagent_a8d086529ef7fafab0e5921fb26768e91}

\item 
\hypertarget{classPed_1_1Tagent_ac8d560c2e72a1aded161cc99ae99b316}{
double {\bfseries gety} ()}
\label{classPed_1_1Tagent_ac8d560c2e72a1aded161cc99ae99b316}

\item 
\hypertarget{classPed_1_1Tagent_a894eb281e40e59c59a4e63a3f2965f33}{
double {\bfseries getz} ()}
\label{classPed_1_1Tagent_a894eb281e40e59c59a4e63a3f2965f33}

\item 
\hypertarget{classPed_1_1Tagent_ae385c01328bf99d8dac75da50019fc18}{
double {\bfseries getax} ()}
\label{classPed_1_1Tagent_ae385c01328bf99d8dac75da50019fc18}

\item 
\hypertarget{classPed_1_1Tagent_a06fa203f151c4a0e6c1cf37ac02e52e3}{
double {\bfseries getay} ()}
\label{classPed_1_1Tagent_a06fa203f151c4a0e6c1cf37ac02e52e3}

\item 
\hypertarget{classPed_1_1Tagent_ae7e0b3e71efc73a847d23f264bf3e2ef}{
double {\bfseries getaz} ()}
\label{classPed_1_1Tagent_ae7e0b3e71efc73a847d23f264bf3e2ef}

\item 
\hypertarget{classPed_1_1Tagent_a68bfe6007ae161dfa3882ef5a57314ee}{
double {\bfseries getvx} ()}
\label{classPed_1_1Tagent_a68bfe6007ae161dfa3882ef5a57314ee}

\item 
\hypertarget{classPed_1_1Tagent_abfdef18c73c3d045bc49155113c26726}{
double {\bfseries getvy} ()}
\label{classPed_1_1Tagent_abfdef18c73c3d045bc49155113c26726}

\item 
\hypertarget{classPed_1_1Tagent_a8fad72ea82cc9c736333b19c3a058f58}{
double {\bfseries getvz} ()}
\label{classPed_1_1Tagent_a8fad72ea82cc9c736333b19c3a058f58}

\item 
void \hyperlink{classPed_1_1Tagent_a2537279bbaa586b99f0c585ce24b3ffc}{assignScene} (\hyperlink{classPed_1_1Tscene}{Tscene} $\ast$s)
\end{DoxyCompactItemize}


\subsubsection{Detailed Description}
This is the main class of the library. It contains the \hyperlink{classPed_1_1Tagent}{Tagent}, which eventually will move through the \hyperlink{classPed_1_1Tscene}{Tscene} and interact with \hyperlink{classPed_1_1Tobstacle}{Tobstacle} and other \hyperlink{classPed_1_1Tagent}{Tagent}. You can use it as it is, and access the agent's coordinates using the getx() etc methods. Or, if you want to change the way the agent behaves, you can derive a new class from it, and overwrite the methods you want to change. This is also a convenient way to get access to internal variables not available though public methods, like the individual forces that affect the agent. \begin{DoxyAuthor}{Author}
chgloor 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2003-\/12-\/26 
\end{DoxyDate}


\subsubsection{Constructor \& Destructor Documentation}
\hypertarget{classPed_1_1Tagent_af67112023fe6604e00e74cea6f23c7da}{
\index{Ped::Tagent@{Ped::Tagent}!Tagent@{Tagent}}
\index{Tagent@{Tagent}!Ped::Tagent@{Ped::Tagent}}
\paragraph[{Tagent}]{\setlength{\rightskip}{0pt plus 5cm}Ped::Tagent::Tagent (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hfill}
\label{classPed_1_1Tagent_af67112023fe6604e00e74cea6f23c7da}
Default Constructor \begin{DoxyDate}{Date}
2003-\/12-\/29 
\end{DoxyDate}


\subsubsection{Member Function Documentation}
\hypertarget{classPed_1_1Tagent_a63210c597e9db74bdf095dd17502d575}{
\index{Ped::Tagent@{Ped::Tagent}!addWaypoint@{addWaypoint}}
\index{addWaypoint@{addWaypoint}!Ped::Tagent@{Ped::Tagent}}
\paragraph[{addWaypoint}]{\setlength{\rightskip}{0pt plus 5cm}void Ped::Tagent::addWaypoint (
\begin{DoxyParamCaption}
\item[{{\bf Twaypoint}}]{wp}
\end{DoxyParamCaption}
)}\hfill}
\label{classPed_1_1Tagent_a63210c597e9db74bdf095dd17502d575}
Adds a TWaypoint to an agent's list of waypoints. Twaypoints are stored in a cyclic queue, the one just visited is pushed to the back again. There will be a flag to change this behavior soon. \begin{Desc}
\item[\hyperlink{todo__todo000001}{Todo}]Add a flag to change the waypoint queue behavior of the Tagents. \end{Desc}
\begin{DoxyAuthor}{Author}
chgloor 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2012-\/01-\/19 
\end{DoxyDate}
\hypertarget{classPed_1_1Tagent_a2537279bbaa586b99f0c585ce24b3ffc}{
\index{Ped::Tagent@{Ped::Tagent}!assignScene@{assignScene}}
\index{assignScene@{assignScene}!Ped::Tagent@{Ped::Tagent}}
\paragraph[{assignScene}]{\setlength{\rightskip}{0pt plus 5cm}void Ped::Tagent::assignScene (
\begin{DoxyParamCaption}
\item[{{\bf Ped::Tscene} $\ast$}]{s}
\end{DoxyParamCaption}
)}\hfill}
\label{classPed_1_1Tagent_a2537279bbaa586b99f0c585ce24b3ffc}
Assigns a \hyperlink{classPed_1_1Tscene}{Tscene} to the agent. \hyperlink{classPed_1_1Tagent}{Tagent} uses this to iterate over all obstacles and other agents in a scene. The scene will invoke this function when \hyperlink{classPed_1_1Tscene_a15d4cce45654cdcba965e85d0430835f}{Tscene::addAgent()} is called. \begin{DoxyDate}{Date}
2012-\/01-\/17 
\end{DoxyDate}
\begin{DoxyWarning}{Warning}
Bad things will happen if the agent is not assigned to a scene. But usually, \hyperlink{classPed_1_1Tscene}{Tscene} takes care of that. 
\end{DoxyWarning}

\begin{DoxyParams}{Parameters}
{\em $\ast$s} & A valid \hyperlink{classPed_1_1Tscene}{Tscene} initialized earlier. \\
\hline
\end{DoxyParams}


Referenced by \hyperlink{classPed_1_1Tscene_a15d4cce45654cdcba965e85d0430835f}{Ped::Tscene::addAgent()}.

\hypertarget{classPed_1_1Tagent_a09533080ce60ae254522d17987b02446}{
\index{Ped::Tagent@{Ped::Tagent}!desiredForce@{desiredForce}}
\index{desiredForce@{desiredForce}!Ped::Tagent@{Ped::Tagent}}
\paragraph[{desiredForce}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ped::Tvector} Ped::Tagent::desiredForce (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}\hfill}
\label{classPed_1_1Tagent_a09533080ce60ae254522d17987b02446}
Calculates the force between this agent and the next assigned waypoint. If the waypoint has been reached, the next waypoint in the list will be selected. At the moment, a visited waypoint is pushed back to the end of the list, which means that the agents will visit all the waypoints over and over again. In a later release, this behavior can be controlled by a flag. \begin{DoxyDate}{Date}
2012-\/01-\/17 
\end{DoxyDate}
\begin{DoxyReturn}{Returns}
\hyperlink{classPed_1_1Tvector}{Tvector}: the calculated force 
\end{DoxyReturn}
\hypertarget{classPed_1_1Tagent_ab0035141923f5f1bede3e163705a559c}{
\index{Ped::Tagent@{Ped::Tagent}!getFollow@{getFollow}}
\index{getFollow@{getFollow}!Ped::Tagent@{Ped::Tagent}}
\paragraph[{getFollow}]{\setlength{\rightskip}{0pt plus 5cm}int Ped::Tagent::getFollow (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hfill}
\label{classPed_1_1Tagent_ab0035141923f5f1bede3e163705a559c}
Gets the ID of the agent this agent is following. \begin{DoxyDate}{Date}
2012-\/01-\/18 
\end{DoxyDate}
\begin{DoxyReturn}{Returns}
int, the agent id of the agent 
\end{DoxyReturn}
\begin{Desc}
\item[\hyperlink{todo__todo000003}{Todo}]Add a method that returns a Tagent$\ast$ \end{Desc}
\hypertarget{classPed_1_1Tagent_a4fac86772e3ca3a449d1e6d694d4b0e2}{
\index{Ped::Tagent@{Ped::Tagent}!lookaheadForce@{lookaheadForce}}
\index{lookaheadForce@{lookaheadForce}!Ped::Tagent@{Ped::Tagent}}
\paragraph[{lookaheadForce}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ped::Tvector} Ped::Tagent::lookaheadForce (
\begin{DoxyParamCaption}
\item[{{\bf Ped::Tvector}}]{e}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}\hfill}
\label{classPed_1_1Tagent_a4fac86772e3ca3a449d1e6d694d4b0e2}
Calculates the mental layer force of the strategy \char`\"{}look ahead\char`\"{}. It is implemented here in the physical layer because of performance reasons. It iterates over all Tagents in the \hyperlink{classPed_1_1Tscene}{Tscene}, complexity O(N$^\wedge$2). \begin{DoxyDate}{Date}
2012-\/01-\/17 
\end{DoxyDate}
\begin{DoxyReturn}{Returns}
\hyperlink{classPed_1_1Tvector}{Tvector}: the calculated force 
\end{DoxyReturn}

\begin{DoxyParams}{Parameters}
{\em e} & is a vector defining the direction in which the agent should look ahead to. Usually, this is the direction he wants to walk to. \\
\hline
\end{DoxyParams}
\hypertarget{classPed_1_1Tagent_ae3495a0300a6b21e4b8a617882cb3c7e}{
\index{Ped::Tagent@{Ped::Tagent}!move@{move}}
\index{move@{move}!Ped::Tagent@{Ped::Tagent}}
\paragraph[{move}]{\setlength{\rightskip}{0pt plus 5cm}void Ped::Tagent::move (
\begin{DoxyParamCaption}
\item[{double}]{h}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}\hfill}
\label{classPed_1_1Tagent_ae3495a0300a6b21e4b8a617882cb3c7e}
Does the agent dynamics stuff. Calls the methods to calculate the individual forces, adds them to get the total force aggecting the agent. This will then be translated into a velocity difference, which is applied to the agents velocity, and then to its position. \begin{DoxyDate}{Date}
2003-\/12-\/29 
\end{DoxyDate}

\begin{DoxyParams}{Parameters}
{\em h} & This tells the simulation how far the agent should proceed (also known as Tau in literature). 1 = 1 unit. \\
\hline
\end{DoxyParams}
\hypertarget{classPed_1_1Tagent_a2129de8742a63a20fcb314c0f09bc917}{
\index{Ped::Tagent@{Ped::Tagent}!obstacleForce@{obstacleForce}}
\index{obstacleForce@{obstacleForce}!Ped::Tagent@{Ped::Tagent}}
\paragraph[{obstacleForce}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ped::Tvector} Ped::Tagent::obstacleForce (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}\hfill}
\label{classPed_1_1Tagent_a2129de8742a63a20fcb314c0f09bc917}
Calculates the force between this agent and the nearest obstacle in this scene. Iterates over all obstacles == O(N). \begin{DoxyDate}{Date}
2012-\/01-\/17 
\end{DoxyDate}
\begin{DoxyReturn}{Returns}
\hyperlink{classPed_1_1Tvector}{Tvector}: the calculated force 
\end{DoxyReturn}
\hypertarget{classPed_1_1Tagent_a94bc6a6fe9684ecb2c880e5db9ff1b31}{
\index{Ped::Tagent@{Ped::Tagent}!setFollow@{setFollow}}
\index{setFollow@{setFollow}!Ped::Tagent@{Ped::Tagent}}
\paragraph[{setFollow}]{\setlength{\rightskip}{0pt plus 5cm}void Ped::Tagent::setFollow (
\begin{DoxyParamCaption}
\item[{int}]{id}
\end{DoxyParamCaption}
)}\hfill}
\label{classPed_1_1Tagent_a94bc6a6fe9684ecb2c880e5db9ff1b31}
Sets the agent ID this agent has to follow. If set, the agent will ignore its assigned waypoints and just follow the other agent. \begin{DoxyDate}{Date}
2012-\/01-\/08 
\end{DoxyDate}

\begin{DoxyParams}{Parameters}
{\em id} & is the agent to follow (must exist, obviously) \\
\hline
\end{DoxyParams}
\begin{Desc}
\item[\hyperlink{todo__todo000002}{Todo}]Add a method that takes a Tagent$\ast$ as argument \end{Desc}
\hypertarget{classPed_1_1Tagent_a9f4c084da2e45ffcbc21c1c5194518a5}{
\index{Ped::Tagent@{Ped::Tagent}!setPosition@{setPosition}}
\index{setPosition@{setPosition}!Ped::Tagent@{Ped::Tagent}}
\paragraph[{setPosition}]{\setlength{\rightskip}{0pt plus 5cm}void Ped::Tagent::setPosition (
\begin{DoxyParamCaption}
\item[{double}]{px, }
\item[{double}]{py, }
\item[{double}]{pz}
\end{DoxyParamCaption}
)}\hfill}
\label{classPed_1_1Tagent_a9f4c084da2e45ffcbc21c1c5194518a5}
Sets the agent's position. This, and other getters returning coordinates, will eventually changed to returning a \hyperlink{classPed_1_1Tvector}{Tvector}. \begin{DoxyDate}{Date}
2004-\/02-\/10 
\end{DoxyDate}

\begin{DoxyParams}{Parameters}
{\em px} & Position x \\
\hline
{\em py} & Position y \\
\hline
{\em pz} & Position z \\
\hline
\end{DoxyParams}
\hypertarget{classPed_1_1Tagent_aa1c9635b94ba54c0cb00cc34877a75e0}{
\index{Ped::Tagent@{Ped::Tagent}!setVmax@{setVmax}}
\index{setVmax@{setVmax}!Ped::Tagent@{Ped::Tagent}}
\paragraph[{setVmax}]{\setlength{\rightskip}{0pt plus 5cm}void Ped::Tagent::setVmax (
\begin{DoxyParamCaption}
\item[{double}]{pvmax}
\end{DoxyParamCaption}
)}\hfill}
\label{classPed_1_1Tagent_aa1c9635b94ba54c0cb00cc34877a75e0}
Sets the maximum velocity of an agent (vmax). Even if pushed by other agents, it will not move faster than this. \begin{DoxyDate}{Date}
2012-\/01-\/08 
\end{DoxyDate}

\begin{DoxyParams}{Parameters}
{\em pvmax} & The maximum velocity. In scene units per timestep, multiplied by the simulation's precision h. \\
\hline
\end{DoxyParams}
\hypertarget{classPed_1_1Tagent_a8ec4fc76d839a87feb57ba597cf97faf}{
\index{Ped::Tagent@{Ped::Tagent}!socialForce@{socialForce}}
\index{socialForce@{socialForce}!Ped::Tagent@{Ped::Tagent}}
\paragraph[{socialForce}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ped::Tvector} Ped::Tagent::socialForce (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}\hfill}
\label{classPed_1_1Tagent_a8ec4fc76d839a87feb57ba597cf97faf}
Calculates the social force between this agent and all the other agents belonging to the same scene. It iterates over all agents inside the scene, has therefore the complexity O(N$^\wedge$2). A better agent storing structure in \hyperlink{classPed_1_1Tscene}{Tscene} would fix this. But for small (less than 10000 agents) scenarios, this is just fine. \begin{DoxyDate}{Date}
2012-\/01-\/17 
\end{DoxyDate}
\begin{DoxyReturn}{Returns}
\hyperlink{classPed_1_1Tvector}{Tvector}: the calculated force 
\end{DoxyReturn}


The documentation for this class was generated from the following files:\begin{DoxyCompactItemize}
\item 
ped\_\-agent.h\item 
ped\_\-agent.cpp\end{DoxyCompactItemize}
